<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <NpoComputer.Product>
    <Code>NOMAD 2.22 DirectumRX</Code>
  </NpoComputer.Product>
  <settings>
    <!-- Признак, показывающий, разрешён ли вход в систему от имени системных пользователей. По умолчанию false. -->
    <add key="allowLoginSystemUsers" value="false" />

    <!-- Размер фотографии работника в пикселях. По умолчанию 128. -->
    <add key="thumbSize" value="128" />

    <!-- Имя вида электронного документа для создаваемых файлов. -->
    <add key="docKindCode" value="Простой документ" />

    <!-- Имя роли белого списка пользователей Directum Jazz. -->
    <add key="jazzUserWhitelistRoleName" value="" />

    <!-- Имя роли черного списка пользователей Directum Jazz. -->
    <add key="jazzUserBlacklistRoleName" value="" />
  </settings>

  <entities>

    <!-- **************** Простая задача. **************** -->

    <!-- Задание на приемку. -->
    <job type="Sungero.Workflow.IReviewAssignment">
      <result name="AcceptButton" isEnabledOffline="true">
        <taskDialog type="Question" text="Sungero.Workflow.Shared.ReviewAssignment.ReviewAssignmentResources.UncompletedLeadingAssignmentMessage">
          <button name="Sungero.Workflow.Shared.ReviewAssignment.ReviewAssignmentResources.CompleteLeadingAndCurrentAssignment" />
          <button name="Sungero.Workflow.Shared.ReviewAssignment.ReviewAssignmentResources.CompleteOnlyCurrentAssignment" isResult="true" />
          <button name="Sungero.Workflow.Shared.ReviewAssignment.ReviewAssignmentResources.OpenLeadingAssignment" />
          <button type="Cancel" />
        </taskDialog>
        <taskDialog type="Question" text="Sungero.Workflow.Shared.ReviewAssignment.ReviewAssignmentResources.Action_AcceptedConfirmationMessage">
          <button name="Sungero.Workflow.Shared.ReviewAssignment.ReviewAssignmentResources.CompleteOnlyCurrentAssignment" isResult="true" />
          <button name="Sungero.Workflow.Shared.ReviewAssignment.ReviewAssignmentResources.OpenLeadingAssignment" />
          <button type="Cancel" />
        </taskDialog>
      </result>
    </job>

    <!-- ************************************************** -->
    <!-- **************** Документооборот. **************** -->
    <!-- ************************************************** -->

    <!-- **************** Продление срока. **************** -->

    <!-- Задание на продление срока. -->
    <job type="Sungero.Docflow.IDeadlineExtensionAssignment">
      <result name="Accept" isEnabledOffline="true">
        <params>
          <param code="NewDeadline" />
          <param code="ScheduledDate" />
        </params>
      </result>

      <result name="ForRework" flag="1" isEnabledOffline="true">
        <params />
      </result>
    </job>

    <!-- Задание с отказом продления срока. -->
    <job type="Sungero.Docflow.IDeadlineRejectionAssignment">
      <result name="Accept" isEnabledOffline="true">
        <params />
      </result>

      <result name="ForRework" flag="1" isEnabledOffline="true" />
    </job>

    <!-- **************** Согласование по регламенту. **************** -->

    <!-- Задача на согласование по регламенту. -->
    <task type="Sungero.Docflow.IApprovalTask" allowStart="true" documentActionName="SendForApproval" Flags="8" rof="true">
      <!-- Подписываем документы из вложений, если инициатор задачи является одним из согласующих. -->
      <action name="Sign" target="DocumentGroup" type="Endorsing">
        <condition name="AuthorIsApprover" needStrongSign="false" />
      </action>

      <!-- Код группы вложений для автораздачи прав. -->
      <autoRightsAttachmentGroup target="OtherGroup" />

      <!-- Согласуемый документ. -->
      <ask type="OfficialDocument" target="DocumentGroup.OfficialDocuments" required="true" validateOnServer="true" onCreateTaskSetFromAttachment="true"
           collection="false" display="Sungero.Docflow.Shared.ApprovalTask.ApprovalTaskSystem.AttachmentGroup_DocumentGroupTitle" />

      <!-- Правило согласования (регламент). -->
      <ask type="ApprovalRule" target="ApprovalRule" required="true" validateOnServer="true" />

      <!-- Ожидаемый срок. -->
      <ask type="Date" target="MaxDeadline" readonly="true" />

      <!-- Обязательные согласующие. -->
      <ask type="Recipient" target="ReqApprovers" collection="true" readonly="true" />

      <!-- Дополнительные согласующие. -->
      <ask type="Recipient" target="AddApprovers" collection="true" validateOnServer="true">
        <condition name="AllowAdditionalApprovers" />
      </ask>

      <!-- Подписывающий. -->
      <ask type="Signatory" target="Signatory" required="true" uiFilteringDisabled="true" validateOnServer="true">
        <condition name="RuleHasStage" stage="Sign" />
      </ask>

      <!-- Адресат. -->
      <ask type="Employee" target="Addressee" readonly="true">
        <condition name="RuleHasStage" stage="Review"/>
      </ask>

      <!-- Адресаты. -->
      <ask type="Employee" target="Addressees" readonly="true">
        <condition name="Equal" target="IsManyAddressees" value="true"/>
      </ask>

      <!-- Способ доставки. -->
      <ask type="ReferenceRecord" target="DeliveryMethod" validateOnServer="true">
        <condition name="Or">
          <condition name="RuleHasStage" stage="Sending" />
          <condition name="RuleHasCondition" condition="DeliveryMethod" />
        </condition>
        <exclude name="Сервис эл. обмена" />
      </ask>

      <!-- Сервис обмена. -->
      <ask type="ReferenceRecord" target="ExchangeService" required="true">
        <condition name="Or">
          <condition name="RuleHasStage" stage="Sending" />
          <condition name="RuleHasCondition" condition="DeliveryMethod" />
        </condition>
        <condition name="Equal" target="DeliveryMethod.Sid" value="267c030c-a93a-44d8-ba60-17d8b56ad9c8" />
      </ask>
    </task>

    <!-- Задание обычным согласующим. -->
    <job type="Sungero.Docflow.IApprovalAssignment" viewMode="Approval">
      <additionalAttachmentGroupsToSign>
        <attachmentGroup name="AddendaGroup"/>
      </additionalAttachmentGroupsToSign>

      <!-- Согласовать. -->
      <result name="Approved" checkStrongSign="Endorsing" isEnabledOffline="true">
        <params />
        <enable>
          <condition name="Or">
            <condition name="Equal" target="Stage.NeedStrongSign" value="false" />
            <condition name="And">
              <condition name="ClientHasFeature" value="DocumentSignSungero" />
              <condition name="ClientHasCertificates" />
            </condition>
          </condition>
        </enable>
      </result>

      <!-- Согласовать с замечаниями. -->
      <result name="WithSuggestions" checkStrongSign="Endorsing" flag="1" isEnabledOffline="true">
        <params />
        <show>
          <condition name="Equal" target="Stage.AllowApproveWithSuggestions" value="true" />
        </show>
        <enable>
          <condition name="Or">
            <condition name="Equal" target="Stage.NeedStrongSign" value="false" />
            <condition name="And">
              <condition name="ClientHasFeature" value="DocumentSignSungero" />
              <condition name="ClientHasCertificates" />
            </condition>
          </condition>
        </enable>
      </result>

      <!-- На доработку. -->
      <result name="ForRevision" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>

      <!-- Запросить продление срока. -->
      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>

      <!-- Добавить согласующего. -->
      <result name="AddApprover" flag="20" notification="ExecResNotification_ApproverAdded">
        <ask type="Employee" display="Sungero.Docflow.Shared.FreeApprovalTask.FreeApprovalTaskResources.Approver" target="!Approver" required="true" />

        <action name="AddApprover" approver="!Approver" />
      </result>

      <!-- Переадресовать. -->
      <result name="Forward">
        <params>
          <param code="Addressee" />
        </params>
      </result>
    </job>

    <!-- Задание на согласование руководителю. -->
    <job type="Sungero.Docflow.IApprovalManagerAssignment" viewMode="Approval">
      <additionalAttachmentGroupsToSign>
        <attachmentGroup name="AddendaGroup"/>
      </additionalAttachmentGroupsToSign>

      <!-- Согласовать. -->
      <result name="Approved" checkStrongSign="Endorsing" isEnabledOffline="true">
        <enable>
          <condition name="Or">
            <condition name="Equal" target="Stage.NeedStrongSign" value="false" />
            <condition name="And">
              <condition name="ClientHasFeature" value="DocumentSignSungero" />
              <condition name="ClientHasCertificates" />
            </condition>
          </condition>
        </enable>

        <params>
          <param code="AddApprovers" />
          <param code="Signatory" />
          <param code="Addressee" />
        </params>

        <!-- Способ доставки. -->
        <ask type="ReferenceRecord" target="DeliveryMethod" validateOnServer="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <exclude name="Сервис эл. обмена" />
        </ask>

        <!-- Сервис обмена. -->
        <ask type="ReferenceRecord" target="ExchangeService" required="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <condition name="Equal" target="DeliveryMethod.Sid" value="267c030c-a93a-44d8-ba60-17d8b56ad9c8" />
        </ask>
      </result>

      <!-- Согласовать с замечаниями. -->
      <result name="WithSuggestions" checkStrongSign="Endorsing" flag="1" isEnabledOffline="true">
        <show>
          <condition name="Equal" target="Stage.AllowApproveWithSuggestions" value="true" />
        </show>
        <enable>
          <condition name="Or">
            <condition name="Equal" target="Stage.NeedStrongSign" value="false" />
            <condition name="And">
              <condition name="ClientHasFeature" value="DocumentSignSungero" />
              <condition name="ClientHasCertificates" />
            </condition>
          </condition>
        </enable>

        <params>
          <param code="AddApprovers" />
          <param code="Signatory" />
          <param code="Addressee" />
        </params>

        <!-- Способ доставки. -->
        <ask type="ReferenceRecord" target="DeliveryMethod" validateOnServer="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <exclude name="Сервис эл. обмена" />
        </ask>

        <!-- Сервис обмена. -->
        <ask type="ReferenceRecord" target="ExchangeService" required="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <condition name="Equal" target="DeliveryMethod.Sid" value="267c030c-a93a-44d8-ba60-17d8b56ad9c8" />
        </ask>
      </result>

      <!-- На доработку. -->
      <result name="ForRevision" flag="1" isEnabledOffline="true">
        <params>
          <param code="AddApprovers" />
          <param code="Signatory" />
          <param code="Addressee" />
        </params>

        <!-- Способ доставки. -->
        <ask type="ReferenceRecord" target="DeliveryMethod" validateOnServer="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <exclude name="Сервис эл. обмена" />
        </ask>

        <!-- Сервис обмена. -->
        <ask type="ReferenceRecord" target="ExchangeService" required="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <condition name="Equal" target="DeliveryMethod.Sid" value="267c030c-a93a-44d8-ba60-17d8b56ad9c8" />
        </ask>
      </result>

      <!-- На доработку. -->
      <result name="ForRevision" flag="1" isEnabledOffline="true">
        <params>
          <param code="AddApprovers" />
          <param code="Signatory" />
          <param code="Addressee" />
        </params>

        <!-- Способ доставки. -->
        <ask type="ReferenceRecord" target="DeliveryMethod" validateOnServer="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <exclude name="Сервис эл. обмена" />
        </ask>

        <!-- Сервис обмена. -->
        <ask type="ReferenceRecord" target="ExchangeService" required="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <condition name="Equal" target="DeliveryMethod.Sid" value="267c030c-a93a-44d8-ba60-17d8b56ad9c8" />
        </ask>
      </result>

      <!-- Запросить продление срока. -->
      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" readonly="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>
    </job>

    <!-- Задание на печать документа. -->
    <job type="Sungero.Docflow.IApprovalPrintingAssignment">
      <result name="Execute" isEnabledOffline="true" />

      <result name="ForRevision" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>
    </job>

    <!-- Задание на доработку инициатору. -->
    <job type="Sungero.Docflow.IApprovalReworkAssignment">
      <additionalAttachmentGroupsToSign>
        <attachmentGroup name="AddendaGroup"/>
      </additionalAttachmentGroupsToSign>

      <result name="ForReapproving" checkStrongSign="Endorsing" isEnabledOffline="true">
        <enable>
          <condition name="Or">
            <condition name="Not">
              <condition name="AuthorIsApprover" needStrongSign="true" />
            </condition>
            <condition name="And">
              <condition name="ClientHasFeature" value="DocumentSignSungero" />
              <condition name="ClientHasCertificates" />
            </condition>
          </condition>
        </enable>

        <params>
          <param code="Signatory" />
          <param code="Addressee" />
          <param code="Approvers" />
        </params>

        <!-- Способ доставки. -->
        <ask type="ReferenceRecord" target="DeliveryMethod" validateOnServer="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <exclude name="Сервис эл. обмена" />
        </ask>

        <!-- Сервис обмена. -->
        <ask type="ReferenceRecord" target="ExchangeService" required="true">
          <condition name="Or">
            <condition name="RuleHasStage" stage="Sending" />
            <condition name="RuleHasCondition" condition="DeliveryMethod" />
          </condition>
          <condition name="Equal" target="DeliveryMethod.Sid" value="267c030c-a93a-44d8-ba60-17d8b56ad9c8" />
        </ask>
      </result>

      <result name="AbortApprovingAction">
        <ask type="Text" target="ActiveText" display="Sungero.Docflow.Shared.ApprovalTask.ApprovalTaskSystem.Property_AbortingReason" required="true" />

        <ask type="Bool" display="Sungero.Docflow.Shared.IncomingDocumentBase.IncomingDocumentBase.MarkDocumentAsObsolete" default="true">
          <if value="true">
            <action name="SetLifeCycle" target="DocumentGroup" state="Obsolete" />
          </if>
          <condition name="Or">
            <condition name="DocumentIsType" target="DocumentGroup" value="IIncomingDocumentBase" />
            <condition name="DocumentIsType" target="DocumentGroup" value="IOutgoingDocumentBase" />
          </condition>
        </ask>

        <ask type="Bool" display="Sungero.Docflow.Shared.OfficialDocument.OfficialDocument.MarkDocumentAsObsolete" default="true">
          <if value="true">
            <action name="SetLifeCycle" target="DocumentGroup" state="Obsolete" />
          </if>
          <condition name="Not">
            <condition name="Or">
              <condition name="DocumentIsType" target="DocumentGroup" value="IIncomingDocumentBase" />
              <condition name="DocumentIsType" target="DocumentGroup" value="IOutgoingDocumentBase" />
            </condition>
          </condition>
        </ask>

        <action name="Abort" target="Task" />
      </result>

      <result name="ExtendDeadline" flag="20" notification="Sungero.Docflow.Resources.CurrentAssignmentNewDeadline">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>
        <ask type="Date" target="Deadline" onlyFuture="true" required="true" />
        <action name="SuppressPerform" />
      </result>

      <result name="Forward">
        <params>
          <param code="ForwardPerformer" />
        </params>
      </result>
    </job>

    <!-- Задание на отправку документа контрагенту. -->
    <job type="Sungero.Docflow.IApprovalSendingAssignment">
      <result name="Complete" isEnabledOffline="true">
        <params />
        <enable>
          <condition name="IsNull" target="ExchangeService" />
        </enable>
      </result>

      <result name="ForRevision" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>
    </job>

    <!-- Задание на контроль возврата. -->
    <job type="Sungero.Docflow.IApprovalCheckReturnAssignment">
      <result name="Signed" isEnabledOffline="true" />
      <result name="NotSigned" isEnabledOffline="true" />
      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>
    </job>

    <!-- Простое задание с возможностью отправки на доработку. -->
    <job type="Sungero.Docflow.IApprovalCheckingAssignment">
      <result name="Accept" isEnabledOffline="true" />

      <result name="ForRework" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>

      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>
    </job>

    <!-- Простое задание. -->
    <job type="Sungero.Docflow.IApprovalSimpleAssignment">
      <result name="Complete" isEnabledOffline="true" />
      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>
    </job>

    <!-- Задание на рассмотрение документа в рамках согласования по регламенту. -->
    <job type="Sungero.Docflow.IApprovalReviewAssignment" approvalSheet="DocumentGroup" rof="true" viewMode="Review">
      <additionalAttachmentGroupsToSign>
        <attachmentGroup name="AddendaGroup"/>
      </additionalAttachmentGroupsToSign>

      <!-- Отправлено на исполнение. -->
      <result name="AddActionItem" flag="4" checkStrongSign="ApprovalIfCan" isEnabledOffline="true">
        <params />
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
        <enable>
          <condition name="NotCollapsed" stage="Register" target="CollapsedStagesTypesRe" />
          <condition name="NotCollapsed" stage="Sending" target="CollapsedStagesTypesSig" />
          <condition name="Or">
            <condition name="Equal" target="Stage.NeedStrongSign" value="false" />
            <condition name="And">
              <condition name="ClientHasFeature" value="DocumentSignSungero" />
              <condition name="ClientHasCertificates" />
            </condition>
          </condition>
        </enable>

        <taskDialog type="Question" text="Sungero.Docflow.Resources.ExecuteWithoutCreatingActionItem">
          <button type="Yes" isResult="true" />
          <button type="No" />
          <button name="Sungero.Docflow.Resources.CreateActionItem" />
        </taskDialog>
      </result>

      <!-- Вынесена резолюция. -->
      <result name="AddResolution" flag="1" checkStrongSign="ApprovalIfCan" isEnabledOffline="true">
        <params />
        <enable>
          <condition name="NotCollapsed" stage="Register" target="CollapsedStagesTypesRe" />
          <condition name="NotCollapsed" stage="Sending" target="CollapsedStagesTypesSig" />
          <condition name="Or">
            <condition name="Equal" target="Stage.NeedStrongSign" value="false" />
            <condition name="And">
              <condition name="ClientHasFeature" value="DocumentSignSungero" />
              <condition name="ClientHasCertificates" />
            </condition>
          </condition>
        </enable>
      </result>

      <!-- Принято к сведению. -->
      <result name="Informed" checkStrongSign="ApprovalIfCan" isEnabledOffline="true">
        <params />
        <enable>
          <condition name="NotCollapsed" stage="Register" target="CollapsedStagesTypesRe" />
          <condition name="NotCollapsed" stage="Sending" target="CollapsedStagesTypesSig" />
          <condition name="Or">
            <condition name="Equal" target="Stage.NeedStrongSign" value="false" />
            <condition name="And">
              <condition name="ClientHasFeature" value="DocumentSignSungero" />
              <condition name="ClientHasCertificates" />
            </condition>
          </condition>
        </enable>
      </result>

      <!-- На доработку. -->
      <result name="ForRework" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>

      <!-- Отказано. -->
      <result name ="Abort" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>

      <!-- Запросить продление срока. -->
      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>

      <!-- Создать поручение. -->
      <result name="CreateActionItem" flag="820" isEnabledOffline="true">
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
        <params />
      </result>

      <result name="ForRevision" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>
    </job>

    <!-- Задание на подписание документа. -->
    <job type="Sungero.Docflow.IApprovalSigningAssignment" approvalSheet="DocumentGroup" viewMode="Approval">
      <additionalAttachmentGroupsToSign>
        <attachmentGroup name="AddendaGroup"/>
      </additionalAttachmentGroupsToSign>

      <!-- Подтвердить подписание. -->
      <result name="ConfirmSign" isEnabledOffline="true">
        <params />
        <!-- Вариант доступен, если документ подписывается в бумажном виде, -->
        <!-- что определяется настройкой этапа "Подписание" в регламенте. -->
        <show>
          <condition name="Equal" target="IsConfirmSigning" value="true" />
        </show>
        <enable>
          <condition name="NotCollapsed" stage="Register" target="CollapsedStagesTypesSig" />
          <condition name="NotCollapsed" stage="Execution" target="CollapsedStagesTypesSig" />
          <condition name="NotCollapsed" stage="Sending" target="CollapsedStagesTypesSig" />
        </enable>
      </result>

      <!-- Подписать. -->
      <result name="Sign" checkStrongSign="Approval" isEnabledOffline="true">
        <params />
        <!-- Вариант доступен, если документ подписывается не в бумажном виде, -->
        <!-- что определяется настройкой этапа "Подписание" в регламенте. -->
        <show>
          <condition name="Equal" target="IsConfirmSigning" value="false" />
        </show>
        <enable>
          <condition name="NotCollapsed" stage="Register" target="CollapsedStagesTypesSig" />
          <condition name="NotCollapsed" stage="Execution" target="CollapsedStagesTypesSig" />
          <condition name="NotCollapsed" stage="Sending" target="CollapsedStagesTypesSig" />
          <condition name="Or">
            <condition name="Equal" target="Stage.NeedStrongSign" value="false" />
            <condition name="And">
              <condition name="ClientHasFeature" value="DocumentSignSungero" />
              <condition name="ClientHasCertificates" />
            </condition>
          </condition>
        </enable>
      </result>

      <!-- На доработку. -->
      <result name="ForRevision" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>

      <!-- Отказать. -->
      <result name="Abort" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>
    </job>

    <!-- Задание о регистрации документа. -->
    <job type="Sungero.Docflow.IApprovalRegistrationAssignment">
      <result name="Execute" isEnabledOffline="true" />

      <result name="ForRevision" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>
    </job>

    <!-- Задание на создание поручений по документу. -->
    <job type="Sungero.Docflow.IApprovalExecutionAssignment" approvalSheet="DocumentGroup" viewMode="Approval">
      <result name="Complete" flag="40" />

      <result name="ForRevision" flag="1" isEnabledOffline="true">
        <params>
          <param code="ReworkPerformer" />
        </params>
      </result>
    </job>

    <!-- **************** Свободное согласование. **************** -->

    <task type="Sungero.Docflow.IFreeApprovalTask" allowStart="true" documentActionName="SendForFreeApproval" Flags="8" rof="true">
      <!-- Код группы вложений для автораздачи прав. -->
      <autoRightsAttachmentGroup target="OtherGroup" />

      <ask type="Document" target="ForApprovalGroup.ElectronicDocuments" required="true" collection="false" onCreateTaskSetFromAttachment="true"
           display="Sungero.Docflow.Shared.FreeApprovalTask.FreeApprovalTaskSystem.AttachmentGroup_ForApprovalGroupTitle" />

      <ask type="Recipient" target="Approvers" required="true" validateOnServer="true" />
      <ask type="Date" target="MaxDeadline" onlyFuture="true" />
      <ask type="Pick" target="ReceiveOnCompletion" required="true" />
      <ask type="Bool" target="ReceiveNotice" />
    </task>

    <!-- Задание согласующим. -->
    <job type="Sungero.Docflow.IFreeApprovalAssignment" viewMode="Approval">
      <result name="ForRework" flag="1" isEnabledOffline="true">
        <params />
      </result>

      <result name="Approved" isEnabledOffline="true">
        <params />
      </result>

      <result name="Forward">
        <params>
          <param code="Addressee" />
          <param code="AddresseeDeadline" />
        </params>
      </result>

      <result name="AddApprover" flag="20" notification="ExecResNotification_ApproverAdded">
        <ask type="Employee" display="Sungero.Docflow.Shared.FreeApprovalTask.FreeApprovalTaskResources.Approver" target="!Approver" required="true" />
        <ask type="Date" display="Sungero.Docflow.Shared.FreeApprovalTask.FreeApprovalTaskResources.AddApproverDeadline" target="!Deadline" onlyFuture="true" required="true" />

        <action name="AddApprover" approver="!Approver" deadline="!Deadline" />
      </result>

      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>
    </job>

    <!-- Задание на доработку инициатору. -->
    <job type="Sungero.Docflow.IFreeApprovalReworkAssignment">
      <result name="Reworked" isEnabledOffline="true">
        <params>
          <param code="Approvers" />
          <param code="NewDeadline" />
        </params>
      </result>

      <result name="AbortAction" isEnabledOffline="true">
        <params />
      </result>

      <result name="ExtendDeadline" flag="20" notification="Sungero.Docflow.Resources.CurrentAssignmentNewDeadline">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="Date" target="Deadline" onlyFuture="true" required="true" />
        <action name="SuppressPerform" />
      </result>
    </job>

    <!-- Задание о завершении согласования. -->
    <job type="Sungero.Docflow.IFreeApprovalFinishAssignment">
      <result name="Complete" isEnabledOffline="true" />
    </job>

    <!-- **************** Контроль возврата документа. **************** -->

    <!-- Задание на возврат документа. -->
    <job type="Sungero.Docflow.ICheckReturnAssignment">
      <result name="Complete" isEnabledOffline="true">
        <params />
      </result>

      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>
    </job>

    <!-- Задание на контроль возврата документа. -->
    <job type="Sungero.Docflow.ICheckReturnCheckAssignment">
      <result name="Returned" isEnabledOffline="true">
        <params />
      </result>

      <result name="NotReturned" isEnabledOffline="true">
        <params />
      </result>
    </job>

    <!-- ********************************************* -->
    <!-- *********** Делопроизводство **************** -->
    <!-- ********************************************* -->

    <!-- **************** Рассмотрение документа. **************** -->

    <!-- Задача на рассмотрение документа. -->
    <task type="Sungero.RecordManagement.IDocumentReviewTask" rof="true">
    </task>

    <!-- Задание на подготовку проекта поручения помощником руководителя. -->
    <job type="Sungero.RecordManagement.IPreparingDraftResolutionAssignment" rof="true" viewMode="Review">
      <!-- Группы вложений, содержащие резолюции. -->
      <resolutionAttachmentGroups>
        <attachmentGroup name="ResolutionGroup" />
      </resolutionAttachmentGroups>

      <!-- Отправить на рассмотрение. -->
      <result name="SendForReview" flag="40">
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
      </result>

      <!-- Принято к сведению. -->
      <result name="Explored" isEnabledOffline="true">
        <params />
      </result>

      <!-- Отправить на исполнение. -->
      <result name="AddAssignment" flag="4" isEnabledOffline="true">
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
        <taskDialog type="Question" text="Sungero.Docflow.Resources.ExecuteWithoutCreatingActionItem">
          <button type="Yes" isResult="true" />
          <button type="No" />
          <button name="Sungero.Docflow.Resources.CreateActionItem" />
        </taskDialog>
        <params />
      </result>

      <!-- На доработку инициатору. -->
      <result name="ForRework" flag="1" isEnabledOffline="true">
        <params />
      </result>

      <!-- Переадресовать рассмотрение. -->
      <result name="Forward">
        <params>
          <param code = "Addressee" />
        </params>
      </result>
    </job>

    <!-- Задание на рассмотрение документа руководителем для RX 4.7 и выше. -->
    <job type="Sungero.RecordManagement.IDocumentReviewAssignment" rof="true" rrcFrom="DocumentForReviewGroup" viewMode="Review">
      <!-- Группы вложений, содержащие резолюции. -->
      <resolutionAttachmentGroups>
        <attachmentGroup name="ResolutionGroup" />
      </resolutionAttachmentGroups>
	  
	  <!-- Группы вложений, которые нужно подписывать. -->
      <additionalAttachmentGroupsToSign>
        <attachmentGroup name="CoverDocumentsGroup"/>
      </additionalAttachmentGroupsToSign>

      <!-- Переадресовать рассмотрение. -->
      <result name="Forward">
        <params>
          <param code = "Addressee" />
        </params>
      </result>

      <!-- Принято к сведению. -->
      <result name="Informed" isEnabledOffline="true">
        <params />
      </result>

      <!-- Создать поручение. -->
      <result name="CreateActionItem" flag="820" isEnabledOffline="true">
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
        <params />
      </result>

      <!--  С проектом поручения от помощника. -->
      <!-- Утвердить проект резолюции. -->
      <result name="DraftResApprove" flag="8" checkStrongSign="Approval" isEnabledOffline="true">
        <show>
          <condition name="And">
            <condition name="Equal" target="State.Attachments.ResolutionGroup.IsVisible" value="true" />
            <condition name="ClientHasFeature" value="RecordsOffice" />
			<condition name="DocumentIsType" target="CoverDocumentsGroup" value="IOutgoingRequestLetter" />
		 </condition>
        </show>
        <params />
      </result>

      <!--  С проектом поручения от помощника без сопроводительных писем-->
      <!-- Утвердить проект резолюции. -->
      <result name="DraftResApprove" checkStrongSign="Approval" isEnabledOffline="true">
        <show>
          <condition name="And">
            <condition name="Equal" target="State.Attachments.ResolutionGroup.IsVisible" value="true" />
            <condition name="ClientHasFeature" value="RecordsOffice" />
          </condition>
        </show>
        <params />
      </result>

      <!-- Вернуть помощнику. -->
      <result name="DraftResRework" flag="1" isEnabledOffline="true">
        <show>
          <condition name="Equal" target="State.Attachments.ResolutionGroup.IsVisible" value="true" />
        </show>
        <params />
      </result>

      <!--  Без проекта поручения от помощника. -->
      <!-- Вынесена резолюция. -->
      <result name="ResPassed" flag="1" isEnabledOffline="true">
        <show>
          <condition name="Equal" target="State.Attachments.ResolutionGroup.IsVisible" value="false" />
        </show>
        <params />
      </result>

      <!-- Отправлено на исполнение. -->
      <result name="ActionItemsSent" flag="4" isEnabledOffline="true">
        <show>
          <condition name="Equal" target="State.Attachments.ResolutionGroup.IsVisible" value="false" />
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
        <taskDialog type="Question" text="Sungero.Docflow.Resources.ExecuteWithoutCreatingActionItem">
          <button type="Yes" isResult="true" />
          <button type="No" />
          <button name="Sungero.Docflow.Resources.CreateActionItem" />
        </taskDialog>
        <params />
      </result>

      <!-- На доработку инициатору. -->
      <result name="DocsRework" flag="1" isEnabledOffline="true">
        <show>
          <condition name="Equal" target="State.Attachments.ResolutionGroup.IsVisible" value="false" />
        </show>
        <params />
      </result>
    </job>

    <!-- Задание на рассмотрение документа руководителем с проектом поручения от помощника для RX 4.6 и ниже. -->
    <job type="Sungero.RecordManagement.IReviewDraftResolutionAssignment" rof="true" viewMode="Review">
      <!-- Группы вложений, содержащие резолюции. -->
      <resolutionAttachmentGroups>
        <attachmentGroup name="ResolutionGroup" />
      </resolutionAttachmentGroups>

      <!-- Утвердить проект резолюции. -->
      <result name="ForExecution" flag="2" isEnabledOffline="true">
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
        <params />
      </result>

      <!-- Принято к сведению. -->
      <result name="Informed" isEnabledOffline="true">
        <params />
      </result>

      <!-- Вернуть помощнику. -->
      <result name="AddResolution" flag="1" isEnabledOffline="true">
        <params />
      </result>

      <!-- Переадресовать рассмотрение. -->
      <result name="Forward">
        <params>
          <param code = "Addressee" />
        </params>
      </result>
    </job>

    <!-- Задание на рассмотрение документа руководителем, когда нет помощника для RX 4.6 и ниже. -->
    <job type="Sungero.RecordManagement.IReviewManagerAssignment" rof="true" viewMode="Review">
      <!-- Группы вложений, содержащие резолюции. -->
      <resolutionAttachmentGroups>
        <attachmentGroup name="ResolutionGroup" />
      </resolutionAttachmentGroups>

      <!-- Вынесена резолюция. -->
      <result name="AddResolution" flag="1" isEnabledOffline="true">
        <params />
      </result>

      <!-- Отправлено на исполнение. -->
      <result name="AddAssignment" flag="4" isEnabledOffline="true">
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
        <taskDialog type="Question" text="Sungero.Docflow.Resources.ExecuteWithoutCreatingActionItem">
          <button type="Yes" isResult="true" />
          <button type="No" />
          <button name="Sungero.Docflow.Resources.CreateActionItem" />
        </taskDialog>
        <params />
      </result>

      <!-- Принято к сведению. -->
      <result name="Explored" isEnabledOffline="true">
        <params />
      </result>

      <!-- На доработку инициатору. -->
      <result name="ForRework" flag="1" isEnabledOffline="true">
        <params />
      </result>

      <!-- Переадресовать. -->
      <result name="Forward">
        <params>
          <param code="Addressee" />
        </params>
      </result>

      <!-- Создать поручение. -->
      <result name="CreateActionItem" flag="820" isEnabledOffline="true">
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
        <params />
      </result>
    </job>

    <!-- Задание секретарю на отправку поручений по резолюции руководителя. -->
    <job type="Sungero.RecordManagement.IReviewResolutionAssignment" rof="true" viewMode="Review">
      <!-- Группы вложений, содержащие резолюции. -->
      <resolutionAttachmentGroups>
        <attachmentGroup name="ResolutionGroup" />
      </resolutionAttachmentGroups>
      <!-- Выполнить. -->
      <result name="AddAssignment" flag="4" isEnabledOffline="true">
        <taskDialog type="Question" text="Sungero.Docflow.Resources.ExecuteWithoutCreatingActionItemFromAddressee">
          <button type="Yes" isResult="true" />
          <button type="No" />
          <button name="Sungero.Docflow.Resources.CreateActionItem" />
        </taskDialog>
        <params />
      </result>

      <!-- Создать поручение. -->
      <result name="CreateActionItem" flag="820" isEnabledOffline="true">
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
        <params />
      </result>
    </job>

    <!-- Задание на доработку инициатору. -->
    <job type="Sungero.RecordManagement.IReviewReworkAssignment">
      <!-- Отправить на рассмотрение. -->
      <result name="SendForReview" isEnabledOffline="true">
        <params />
      </result>

      <!-- Прекратить. -->
      <result name="Abort" isEnabledOffline="true">
        <params/>
      </result>

      <!-- Переадресовать рассмотрение. -->
      <result name="Forward">
        <params>
          <param code="Addressee"/>
        </params>
      </result>
    </job>

    <!-- **************** Исполнение поручений. **************** -->

    <!-- Задание на исполнение поручения. -->
    <job type="Sungero.RecordManagement.IActionItemExecutionAssignment" rof="true" rrcFrom="DocumentsGroup" viewMode="Execution">
      <result name="Done" flag="1" isEnabledOffline="true">
        <!-- Что делать с незавершенными подчиненными поручениями? -->
        <taskDialog type="Question" text="Sungero.RecordManagement.Shared.ActionItemExecutionTask.ActionItemExecutionTaskResources.StopAdditionalActionItemExecutions">
          <button name="Sungero.RecordManagement.Shared.ActionItemExecutionAssignment.ActionItemExecutionAssignmentResources.Abort" />
          <button name="Sungero.RecordManagement.Shared.ActionItemExecutionAssignment.ActionItemExecutionAssignmentResources.NotAbort" isResult="true" />
          <button type="Cancel" />
        </taskDialog>
      </result>

      <result name="CreateChildActionItem" flag="24" notification="ExecResNotification_AssignmentSentToExecution" suppressPerform="true" isEnabledOffline="true">
        <show>
          <condition name="ClientHasFeature" value="RecordsOffice" />
        </show>
      </result>

      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" readonly="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>
    </job>

    <!-- Задание на приемку поручения. -->
    <job type="Sungero.RecordManagement.IActionItemSupervisorAssignment">
      <result name="ForRework" flag="1" isEnabledOffline="true">
        <params>
          <param code="NewDeadline" />
        </params>
      </result>

      <result name="Agree" isEnabledOffline="true">
        <!-- Что делать с ведущим поручением при приемке работ? -->
        <taskDialog type="Question"
                    text="Sungero.RecordManagement.Shared.ActionItemSupervisorAssignment.ActionItemSupervisorAssignmentResources.CompleteParentAssignmentDialogTitle">
          <button name="Sungero.RecordManagement.Shared.ActionItemSupervisorAssignment.ActionItemSupervisorAssignmentResources.CompleteParentAssignmentDialogCompleteButtonTitle" />
          <button name="Sungero.RecordManagement.Shared.ActionItemSupervisorAssignment.ActionItemSupervisorAssignmentResources.CompleteParentAssignmentDialogNotCompleteButtonTitle" isResult="true" />
          <button name="Sungero.RecordManagement.Shared.ActionItemSupervisorAssignment.ActionItemSupervisorAssignmentResources.CompleteParentAssignmentDialogOpenButtonTitle" />
          <button type="Cancel" />
        </taskDialog>
        <params />
      </result>
    </job>

    <!-- **************** Ознакомление с документом. **************** -->

    <!-- Задание на ознакомление с документом. -->
    <job type="Sungero.RecordManagement.IAcquaintanceAssignment" viewMode="Approval">
      <result name="Acquainted" isEnabledOffline="true">
        <show>
          <condition name="Not">
            <condition name="IsPerformBySubstitution" />
          </condition>
        </show>
      </result>

      <result name="Acquainted" isEnabledOffline="true" flag="1">
        <show>
          <condition name="And">
            <condition name="IsPerformBySubstitution" />
            <condition name="AllowAcquaintanceBySubstitution" />
          </condition>
        </show>
      </result>

      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>
    </job>

    <!-- Задание на завершение работ по ознакомлению. -->
    <job type="Sungero.RecordManagement.IAcquaintanceFinishAssignment">
      <result name="Complete" isEnabledOffline="true" />

      <result name="ExtendDeadline" flag="20" notification="Sungero.Docflow.Resources.CurrentAssignmentNewDeadline">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="Date" target="Deadline" onlyFuture="true" required="true" />
        <action name="SuppressPerform" />
      </result>
    </job>

    <!-- **************** Подготовка отчета по поручению. **************** -->

    <!-- Задание на подготовку отчета по поручению. -->
    <job type="Sungero.RecordManagement.IReportRequestAssignment">
      <result name="Done" flag="1" isEnabledOffline="true">
        <params />
      </result>

      <result name="ExtendDeadline" flag="20" notification="ExecResNotification_ExtendDeadlineRequestSent">
        <show>
          <condition name="Not">
            <condition name="IsNull" target="Deadline"/>
          </condition>
        </show>

        <ask type="DeadlineExtensionEmployee" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Assignee" target="!Assignee" required="true" readonly="true" />
        <ask type="DeadlineExtensionDate" display="Sungero.Docflow.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_NewDeadline" target="!NewDeadline" onlyFuture="true" required="true" />
        <ask type="Text" display="Sungero.RecordManagement.Shared.DeadlineExtensionTask.DeadlineExtensionTaskSystem.Property_Reason" target="!Reason" required="true" />

        <action name="StartDeadlineExtensionTask">
          <set source="Job.!Assignee" destination="Task.Assignee" />
          <set source="Job.!NewDeadline" destination="Task.NewDeadline" />
          <set source="Job.!Reason" destination="Task.@ActiveText" />
        </action>
      </result>
    </job>

    <!-- Задание на приемку отчета по поручению. -->
    <job type="Sungero.RecordManagement.IReportRequestCheckAssignment">
      <result name="Accept" isEnabledOffline="true">
        <params />
      </result>

      <result name="ForRework" flag="1" isEnabledOffline="true">
        <params />
      </result>
    </job>

    <!-- ************************************************************* -->
    <!-- **************** Обмен с внешними системами. **************** -->
    <!-- ************************************************************* -->

    <!-- Задание на обработку документа. -->
    <job type="Sungero.Exchange.IExchangeDocumentProcessingAssignment">
      <result name="Complete" flag="40" />

      <result name="ReAddress">
        <params>
          <param code="Addressee" />
          <param code="NewDeadline" />
        </params>
      </result>

      <result name="Abort" flag="40" />
    </job>

    <!-- Задание на отправку уведомлений о получении документов. -->
    <job type="Sungero.Exchange.IReceiptNotificationSendingAssignment">
      <result name="Complete" flag="40" />

      <result name="Forwarded">
        <params>
          <param code="Addressee" />
          <param code="NewDeadline" />
        </params>
      </result>
    </job>

    <!-- Задание на обработку конфликтов синхронизации контракгентов. -->
    <job type="Sungero.ExchangeCore.ICounterpartyConflictProcessingAssignment">
      <result name="Complete" isEnabledOffline="true" />
    </job>

    <!-- Задание на рассмотрение приглашения от контрагента. -->
    <job type="Sungero.ExchangeCore.IIncomingInvitationAssignment">
      <result name="Accept" isEnabledOffline="true" />
      <result name="Reject" isEnabledOffline="true" />
    </job>
  </entities>

  <!-- Настройки фильтрации папок ЗЗУ. -->
  <filterPanel>
    <state type="Sungero.Workflow.Shared.InboxFilterState">

      <!-- Для отображения заданий / уведомлений необходимо установить параметры ShowAssignments / ShowNotices в true.

      Настройки отображения заданий по их состоянию и дате получения являются взаимоисключающими. При установке одного из значений в true, остальные нужно устанавливать в false.

      Допустимы следующие настройки отображения:
        AssignmentsInWork (задания "В работе" и непрочитанные уведомления)
        NewAssignments (непрочитанные задания и уведомления)
        AllAssignments(все задания и уведомления)

      При выборе варианта AllAssignments необходимо настроить период, для которого будут отображены задания (Last30Days, Last90Days, Last180Days).

      Пример настройки для отображения заданий и уведомлений, полученных за последние 30 дней.
      <bool key="AssignmentsInWork" value="false" />
      <bool key="NewAssignments" value="false" />
      <bool key="AllAssignments" value="true" />
      <bool key="ShowAssignments" value="true" />
      <bool key="ShowNotices" value="true" />

      <bool key="Last30Days" value="true" />
      <bool key="Last90Days" value="false" />
      <bool key="Last180Days" value="false" /. -->

      <bool key="AssignmentsInWork" value="true" />
      <bool key="NewAssignments" value="false" />
      <bool key="AllAssignments" value="false" />

      <bool key="ShowAssignments" value="true" />
      <bool key="ShowNotices" value="true" />

      <!-- Скрывать содержимое папок потоков в папке "Входящие". -->
      <bool key="HideFlowFoldersEntries" value="true" />
    </state>
    <state type="Sungero.Workflow.Shared.OutboxFilterState">
      <!-- Настройки отображения задач по их состоянию и дате получения являются взаимоисключающими. При установке одного из значений в true, остальные нужно устанавливать в false.

      Допустимы следующие настройки отображения:
        AllTasks (отобразить все задачи)
        TasksInWork (отобразить только задачи "В работе").

      При выборе варианта AllTasks необходимо настроить период, для которого будут отображены задания (Last30Days, Last90Days, Last180Days). -->

      <!-- Показывать задачи "В работе". -->
      <bool key="TasksInWork" value="true" />
      <bool key="AllTasks" value="false" />
      <!-- Скрывать содержимое папок потоков в папке "Исходящие". -->
      <bool key="HideFlowFoldersEntries" value="true" />
    </state>
  </filterPanel>

  <!-- Права доступа для защиты персональных данных -->
  <permissions>
    <!-- Права на документы. Атрибут data - типы данных, на которые распространяются права (body, card). По умолчанию - все типы данных. -->
    <!--
    <documents data="body">
      <allow>
        <action type="read" />
        <action type="write" />
        <action type="share" />
        <subject type="group" id="123" />
        <client name="Directum Solo" />
        <condition type="Sungero.Docflow.IOfficialDocument">
          <property name="DocumentKind" value="15" />
          <property name="Department" value="7" />
        </condition>
      </allow>
    </documents>
    -->

    <!-- Права на записи справочников. -->
    <!--
    <referenceRecords>
      <deny>
        <subject type="user" id="547" />
        <client name="Directum Jazz" />
        <condition type="Sungero.Company.IDepartment">
          <property name="Id" value="185" />
        </condition>
      </deny>
    </referenceRecords>
    -->
  </permissions>

  <!-- Настройки сквозной аутентификации. -->
  <!-- Допустимые значения для authority: AzureAD, ADFS, Other. -->
  <!--
  <externalAuthentication>
    <oauth2>
      <provider>AzureAD</provider>
      <authority>https://login.microsoftonline.com/00000000-0000-0000-0000-000000000000</authority>
      <clientId>11111111-1111-1111-1111-111111111111</clientId>
      <resourceId>api://nomad</resourceId>
      <issuerUri>https://sts.windows.net/00000000-0000-0000-0000-000000000000/</issuerUri>
      <federationMetadataPath>https://login.microsoftonline.com/00000000-0000-0000-0000-000000000000/federationmetadata/2007-06/federationmetadata.xml</federationMetadataPath>
      <nameClaimType>unique_name</nameClaimType>
    </oauth2>
  </externalAuthentication>
  -->

  <!-- Настройки подписания через сторонее приложение.
       Поддерживаемые приложения: E-IMZO.
  -->
  <!--
  <externalSigning>
    <externalApplication name="eimzo">
      <siteId>SiteId</siteId>
      <appScheme>com.super.app://scheme</appScheme>
    </externalApplication>
  </externalSigning>
  -->

  <!-- Настройки тенантов. -->
  <tenants>
  </tenants>
</configuration>